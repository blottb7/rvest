library(rvest)
library(dplyr)
library(tidyr)
#library(selectr)

#olympics odds
my_url <- 'http://www.nicerodds.co.uk/olympics-mens-slalom'
my_webpage <- read_html(my_url)

slalom_m_headers_html <- html_nodes(my_webpage, 'th')
slalom_m_headers <- html_text(slalom_m_headers_html)
slalom_m_headers <- data.frame(matrix(unlist(slalom_m_headers), nrow = 1))

#names
slalom_m_names_html <- html_nodes(my_webpage, '#mainplh_boAutoOddsTable1_GridView1 td:nth-child(1)')
slalom_m_names <- html_text(slalom_m_names_html)
slalom_m_names <- as.data.frame(slalom_m_names)

#odds hi lo
slalom_m_hilo_html <- html_nodes(my_webpage, '#mainplh_boAutoOddsTable1_GridView1 td+ td')
slalom_m_hilo <- html_text(slalom_m_hilo_html)
slalom_m_hilo <- data.frame(matrix(unlist(slalom_m_hilo), ncol = 2, byrow = TRUE))

#odds sites
slalom_m_odds_html <- html_nodes(my_webpage, '#mainplh_boAutoOddsTable1_GridView2 td')
slalom_m_odds <- html_text(slalom_m_odds_html)
slalom_m_odds <- data.frame(matrix(unlist(slalom_m_odds), ncol = 3, byrow = TRUE))

slalom_m <- slalom_m_names %>%
  union(slalom_m_hilo)

slalom_m <- merge(slalom_m_names, slalom_m_odds)
slalom_m <- bind_cols(slalom_m_names, slalom_m_hilo)
slalom_m <- slalom_m_names %>%
  bind_cols(slalom_m_hilo) %>%
  bind_cols(slalom_m_odds) %>%
  head(-1)
# 
